---
## Front matter
lang: ru-RU
title: "Лабораторная работа №5"
author: "Гэинэ Андрей"

## Formatting
toc: false
slide_level: 2
theme: metropolis
header-includes: 
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
aspectratio: 43
section-titles: true
---

# Цель работы

Ознакомление с файловой системой Linux, её структурой, именами и содержанием
каталогов. Приобретение практических навыков по применению команд для работы
с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.

# Задание

1. Выполните все примеры, приведённые в первой части описания лабораторной работы.
2. Выполните следующие действия, зафиксировав в отчёте по лабораторной работе
используемые при этом команды и результаты их выполнения:
2.1. Скопируйте файл /usr/include/sys/io.h в домашний каталог и назовите его
equipment. Если файла io.h нет, то используйте любой другой файл в каталоге
/usr/include/sys/ вместо него.
2.2. В домашнем каталоге создайте директорию ~/ski.plases.
2.3. Переместите файл equipment в каталог ~/ski.plases.
2.4. Переименуйте файл ~/ski.plases/equipment в ~/ski.plases/equiplist.
2.5. Создайте в домашнем каталоге файл abc1 и скопируйте его в каталог
~/ski.plases, назовите его equiplist2.

# Задание

2.6. Создайте каталог с именем equipment в каталоге ~/ski.plases.
2.7. Переместите файлы ~/ski.plases/equiplist и equiplist2 в каталог
~/ski.plases/equipment.
2.8. Создайте и переместите каталог ~/newdir в каталог ~/ski.plases и назовите
его plans.
Кулябов Д. С. и др. Операционные системы 53
3. Определите опции команды chmod, необходимые для того, чтобы присвоить перечисленным ниже файлам выделенные права доступа, считая, что в начале таких прав
нет:
3.1. drwxr--r-- ... australia
3.2. drwx--x--x ... play
3.3. -r-xr--r-- ... my_os
3.4. -rw-rw-r-- ... feathers
При необходимости создайте нужные файлы.

# Задание

4. Проделайте приведённые ниже упражнения, записывая в отчёт по лабораторной
работе используемые при этом команды:
4.1. Просмотрите содержимое файла /etc/password.
4.2. Скопируйте файл ~/feathers в файл ~/file.old.
4.3. Переместите файл ~/file.old в каталог ~/play.
4.4. Скопируйте каталог ~/play в каталог ~/fun.
4.5. Переместите каталог ~/fun в каталог ~/play и назовите его games.
4.6. Лишите владельца файла ~/feathers права на чтение.
4.7. Что произойдёт, если вы попытаетесь просмотреть файл ~/feathers командой
cat?

# Задание

4.8. Что произойдёт, если вы попытаетесь скопировать файл ~/feathers?
4.9. Дайте владельцу файла ~/feathers право на чтение.
4.10. Лишите владельца каталога ~/play права на выполнение.
4.11. Перейдите в каталог ~/play. Что произошло?
4.12. Дайте владельцу каталога ~/play право на выполнение.
5. Прочитайте man по командам mount, fsck, mkfs, kill и кратко их охарактеризуйте,
приведя примеры.


# Ход работы

1. Выполните все примеры, приведённые в первой части описания лабораторной работы.(часть кода на картинке ниже)

![Рис.1](image\picture1.png)  

# Ход работы

2.1. Скопируйте файл /usr/include/sys/io.h в домашний каталог и назовите его equipment. Если файла io.h нет, то используйте любой другой файл в каталоге /usr/include/sys/ вместо него.

![Рис.2](image\picture2.png)

# Ход работы

2.2. В домашнем каталоге создайте директорию ~/ski.plases.

![Рис.3](image\picture3.png)

# Ход работы

2.3. Переместите файл equipment в каталог ~/ski.plases.

![Рис.4](image\picture4.png)

# Ход работы

2.4. Переименуйте файл ~/ski.plases/equipment в ~/ski.plases/equiplist

![Рис.5](image\picture5.png)

# Ход работы
 
2.5. Создайте в домашнем каталоге файл abc1 и скопируйте его в каталог ~/ski.plases, назовите его equiplist2.

![Рис.6](image\picture6.png)

# Ход работы

2.6. Создайте каталог с именем equipment в каталоге ~/ski.plases.

![Рис.7](image\picture7.png)

# Ход работы

2.7. Переместите файлы ~/ski.plases/equiplist и equiplist2 в каталог ~/ski.plases/equipment.

![Рис.8](image\picture8.png)

# Ход работы

2.8. Создайте и переместите каталог ~/newdir в каталог ~/ski.plases и назовите его plans.

![Рис.9](image\picture9.png)

# Ход работы

3. Определите опции команды chmod, необходимые для того, чтобы присвоить перечисленным ниже файлам выделенные права доступа, считая, что в начале таких прав нет:
3.1. drwxr--r-- ... australia
3.2. drwx--x--x ... play
3.3. -r-xr--r-- ... my_os
3.4. -rw-rw-r-- ... feathers

![Рис.10](image\picture10.png)

# Ход работы

4.1. Просмотрите содержимое файла /etc/password.

![Рис.11](image\picture11.png)

# Ход работы

4.2. Скопируйте файл ~/feathers в файл ~/file.old.
4.3. Переместите файл ~/file.old в каталог ~/play.

![Рис.12](image\picture12.png)

# Ход работы

4.4. Скопируйте каталог ~/play в каталог ~/fun.
4.5. Переместите каталог ~/fun в каталог ~/play и назовите его games.

![Рис.13](image\picture13.png)

# Ход работы

4.6. Лишите владельца файла ~/feathers права на чтение.
4.7. Что произойдёт, если вы попытаетесь просмотреть файл ~/feathers командой
cat? (нет доступа)
4.8. Что произойдёт, если вы попытаетесь скопировать файл ~/feathers? (нет доступа)

![Рис.14](image\picture14.png)

# Ход работы

4.9. Дайте владельцу файла ~/feathers право на чтение.

![Рис.15](image\picture_exception.png)

# Ход работы

4.10. Лишите владельца каталога ~/play права на выполнение.
4.11. Перейдите в каталог ~/play. Что произошло?(нет доступа)

![Рис.16](image\picture15.png)

# Ход работы

4.12. Дайте владельцу каталога ~/play право на выполнение.

![Рис.17](image\picture16.png)

# Ход работы

5. Прочитайте man по командам mount, fsck, mkfs, kill и кратко их охарактеризуйте, приведя примеры.

mount(Отображение всех смонтированных файловых систем; Например, если бы мы хотели видеть только файловые системы ext4, мы бы использовали синтаксис: mount -t ext4)

fsck(fsck помогает восстанавливать поврежденные файлы; запуск fsck на нормальном, здоровом диске выглядит следующим образом: chris@handbook:~$ sudo fsck /dev/sda2 fsck из util-linux 2.34 fsck.fat 4.1 (2017-01-24) /dev/sda2: 5 файлов, кластеры 1967/1972)

# Ход работы

mkfs(Команда mkfs расшифровывается как «make file system» используется для создания файловой системы (то есть системы для организации иерархии каталогов, подкаталогов и файлов); sudo mkfs.vfat /dev/sdb1)

kill(команда kill в Linux (находится в /bin/kill), является встроенной командой, которая используется для завершения процессов вручную;$kill pid)

![Рис.18](image\picture17.png)

# Выводы

Благодаря данной работе мы научились работать с коммандами Linux и ознакомились с архитектурой Linux'a.

# Контрольные вопросы

1. Дайте характеристику каждой файловой системе, существующей на жёстком диске
компьютера, на котором вы выполняли лабораторную работу.

Структура файловой иерархии Linux или стандарт иерархии файловой системы (FHS) определяет структуру каталогов и их содержимое в Unix-подобных операционных системах. Он поддерживается фондом Linux Foundation. 

В FHS все файлы и каталоги находятся в корневом каталоге /, даже если они хранятся на разных физических или виртуальных устройствах.
Некоторые из этих каталогов существуют в конкретной системе, только если установлены определенные подсистемы, например, X Window System.
Большинство этих каталогов существуют во всех операционных системах UNIX и используются практически одинаково; тем не менее, приведенные здесь описания используются специально для FHS и не считаются авторитетными для платформ, отличных от Linux.

# Контрольные вопросы

2. Приведите общую структуру файловой системы и дайте характеристику каждой директории первого уровня этой структуры.

/ (Root): Корень первичной иерархии и корневой каталог всей иерархии файловой системы. 
 

Каждый файл и каталог начинается с корневого каталога.
Только пользователь root имеет право писать в этот каталог
/root - это домашний каталог пользователя root, что не то же самое, что /

# Контрольные вопросы

/bin : двоичные файлы основных команд, которые должны быть доступны в однопользовательском режиме; для всех пользователей, например, cat, ls, cp. 
 

Содержит двоичные исполняемые файлы
В этом каталоге находятся общие команды linux, которые необходимо использовать в однопользовательском режиме.
Команды, используемые всеми пользователями системы, находятся здесь, например, ps, ls, ping, grep, cp.

# Контрольные вопросы

 /boot : Файлы загрузчика, например, ядра, initrd. 
 

Файлы initrd ядра, vmlinux, grub находятся в каталоге /boot.
Example: initrd.img-2.6.32-24-generic, vmlinuz-2.6.32-24-generic

# Контрольные вопросы

/dev : файлы основных устройств, например, /dev/null. 
 

К ним относятся терминальные устройства, usb или любые устройства, подключенные к системе.
Пример: /dev/tty1, /dev/usbmon0

# Контрольные вопросы

 /etc : Файлы конфигурации всей системы, специфичные для хоста.

Содержит файлы конфигурации, необходимые всем программам.
Здесь также содержатся сценарии запуска и выключения, используемые для запуска/остановки отдельных программ.
Пример: /etc/resolv.conf, /etc/logrotate.conf.

# Контрольные вопросы

/home : Домашние каталоги пользователей, содержащие сохраненные файлы, личные настройки и т.д.

Домашние каталоги для всех пользователей для хранения их личных файлов.
пример: /home/kishlay, /home/kv

# Контрольные вопросы

 /lib : Библиотеки, необходимые для работы двоичных файлов в /bin/ и /sbin/.

Имена файлов библиотек либо ld*, либо lib*.so.*.
Пример: ld-2.11.1.so, libncurses.so.5.7 и.т.д.

# Контрольные вопросы

Названы основные элементы файловой структуры;
Дабы дальше не занимать ценное пространство, рекоммендую почитать в деталях на сайте ниже. Знание английского приветствуется.
https://www.geeksforgeeks.org/linux-file-hierarchy-structure/

# Контрольные вопросы

3. Какая операция должна быть выполнена, чтобы содержимое некоторой файловой системы было доступно операционной системе?
   
mount

# Контрольные вопросы

4. Назовите основные причины нарушения целостности файловой системы. Как устранить повреждения файловой системы?
    
Вредоносное ПО, неосторожность пользователя. Исправление через комманду fsck.

# Контрольные вопросы

5. Как создаётся файловая система?

Форматированием диска.

# Контрольные вопросы

6. Дайте характеристику командам для просмотра текстовых файлов.

cat - просмотр небольшого текстового файла
less - удобное постраничное просматривание файлов
head - просмотр первых 10 строк
tail - просмотр последних 10 строк

# Контрольные вопросы

7. Приведите основные возможности команды cp в Linux.

Копирование файла/каталога в другой файл/каталог.

# Контрольные вопросы

8. Приведите основные возможности команды mv в Linux.

Перемещение файла/каталога, переименование.

# Контрольные вопросы

9.  Что такое права доступа? Как они могут быть изменены?

Определяют возможные операции над директорией/файлом, от чтения до выполнения. Изменить через chmod u/g/o(user/group/others)+rwx(read/write/execute) file_name/directory_name